//本地购物车存储 添加商品到本地
function addgoods(id,name,price,logo,specifications,maxCount,packageNum,isspecial){var contact=new Object();var goodobj=new Object();var memberfilter=[];memberfilter[0]="id";memberfilter[1]="name";memberfilter[2]="sum";memberfilter[3]="price";memberfilter[4]="logo";memberfilter[5]="specifications";memberfilter[6]="packageNum";memberfilter[7]="maxCount";memberfilter[8]="isspecial";if(typeof(localStorage.good)=="undefined"){contact.id=parseInt(id);contact.name=name;contact.sum=1;contact.price=parseFloat(price);contact.logo=logo;contact.specifications=specifications;contact.packageNum=packageNum;contact.maxCount=maxCount;contact.isspecial=isspecial;var good=[];var jsonText=JSON.stringify(contact,memberfilter);good[0]=JSON.parse(jsonText);localStorage.good=JSON.stringify(good,memberfilter);return 1;}else{var goodobj=JSON.parse(localStorage.good);var con=0;for(var i in goodobj){if(goodobj[i].id==id){goodobj[i].sum=1+parseInt(goodobj[i].sum);localStorage.good=JSON.stringify(goodobj,memberfilter);con+=1;return goodobj[i].sum;break}};if(con==0){contact.id=parseInt(id);contact.name=name;contact.sum=1;contact.price=parseFloat(price);contact.logo=logo;contact.specifications=specifications;contact.packageNum=packageNum;contact.maxCount=maxCount;contact.isspecial=isspecial;var jsonText=JSON.stringify(contact,memberfilter);var goolen=goodobj.length;goodobj[goolen]=JSON.parse(jsonText);localStorage.good=JSON.stringify(goodobj,memberfilter);return 1;}}};var goodobj=new Object();var money=0;var memberfilter=[];memberfilter[0]="id";memberfilter[1]="name";memberfilter[2]="sum";memberfilter[3]="price";memberfilter[4]="logo";memberfilter[5]="specifications";memberfilter[6]="packageNum";memberfilter[7]="maxCount";memberfilter[8]="isspecial";function cutgoods(id){goodobj=JSON.parse(localStorage.good);for(var i in goodobj){if(goodobj[i].id==id){if(goodobj[i].sum==1){delgoods(id);return 0}else{goodobj[i].sum=parseInt(goodobj[i].sum)-1;localStorage.good=JSON.stringify(goodobj,memberfilter);return goodobj[i].sum}}}};function delgoods(id){goodobj=JSON.parse(localStorage.good);var eq;for(var i in goodobj){if(goodobj[i].id==id){eq=i;var arr1=goodobj.slice(0,eq);var arr2=goodobj.slice(eq+=1);var arr=arr1.concat(arr2);localStorage.setItem('good',JSON.stringify(arr));return 0}}};function callbackgoodsnumber(id){if(typeof(localStorage.good)=="undefined"){return 0}else{goodobj=JSON.parse(localStorage.good);var con=false;for(var i in goodobj){if(goodobj[i].id==id){con=true;return goodobj[i].sum}}if(!con){return 0}}};function getgoodsNum(){var total=0;if(typeof(localStorage.good)=="undefined"){return 0}else{goodobj=JSON.parse(localStorage.good);for(var i in goodobj){total+=parseInt(goodobj[i].sum)}return total}};function getgoodsMoney(){var totalMoney=0.00;if(typeof(localStorage.good)=="undefined"){return 0}else{goodobj=JSON.parse(localStorage.good);for(var i in goodobj){totalMoney+=parseInt(goodobj[i].sum)*parseFloat(goodobj[i].price)}return totalMoney.toFixed(2)}};function goodlist1(){var id,num;arr=[];var goodsList1={'goodsList':arr};if(typeof(localStorage.good)=="undefined"){return 0}else{var obj1;goodobj=JSON.parse(localStorage.good);for(var i in goodobj){obj1=new Object();obj1.goodsId=goodobj[i].id;obj1.count=goodobj[i].sum;arr.push(obj1)}return JSON.stringify(goodsList1)}};function goodlist2(){var arr3=[];if(typeof(localStorage.good)=="undefined"){return 0}else{var obj2;goodobj=JSON.parse(localStorage.good);for(var i in goodobj){obj2=new Object();obj2.goodsId=goodobj[i].id;obj2.name=goodobj[i].name;obj2.price=goodobj[i].price;obj2.logo=goodobj[i].logo;obj2.count=goodobj[i].sum;obj2.packageNum=goodobj[i].packageNum;obj2.specifications=goodobj[i].specifications;obj2.maxCount=goodobj[i].maxCount;arr3.push(obj2)}return arr3}}